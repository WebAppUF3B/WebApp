<div class="container inner-container" ng-controller="StudySignupController">
  <!--Page Title-->
  <div class="row">
    <div class="col-sm-12">
      <h1 class="phone-center"><strong>Study Signup for {{ '\"' + study.title + '\"' }}</strong></h1>
    </div>
  </div>
  <!--Available session to signup for-->
  <div class="row">
    <div class="col-sm-10 col-sm-offset-1">
      <h2 class="text-center">Available Sessions</h2>
      <table ng-table="myStudySessions" class="table table-hover entries-selectable hide-col-2-phone hide-col-3-phone" show-filter="false">
        <tr ng-click="studySignupModal(session, $index)" ng-repeat="session in studySessions">
          <td title="'Date'" filter="{ 'date': 'text'}" sortable="'sessionTime'" width=100px ng-attr-title="{{null}}">{{session.date}}</td>
          <td title="'Day of the Week'" filter="{ 'time': 'text'}" sortable="'sessionTime'" width=90px ng-attr-title="{{null}}">{{session.dow}}</td>
          <td title="'Starting Time'" filter="{ 'time': 'text'}" sortable="'sessionTime'" width=90px ng-attr-title="{{null}}">{{session.startTime}}</td>
          <td title="'Duration'" filter="{ 'duration': 'text'}" sortable="'sessionTime'" width=90px ng-attr-title="{{null}}">{{hoursAndMinutes(session.duration)}}</td>
        </tr>
      </table>
    </div>
  </div>
  <!--Signup Modal-->
  <div id="studySignupModal" class="modal" role="dialog">
    <div class="small-modal">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="row">
          <div class="col-sm-12 text-center">
            <h3 class="no-margin"><strong>{{ study.title }}</strong></h3>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <h4 class="underline">Details</h4>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <p class="mini-title">Date: <span class="not-bold"> &nbsp;{{currentSession.date}}</span></p>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <p class="mini-title">Day of Week: <span class="not-bold"> &nbsp;{{currentSession.dow}}</span></p>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <p class="mini-title">Starting Time: <span class="not-bold"> &nbsp;{{currentSession.startTime}}</span></p>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <p class="mini-title">Duration: <span class="not-bold"> &nbsp;{{hoursAndMinutes(currentSession.duration)}}</span></p>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <p class="mini-title">Location: <span class="not-bold"> &nbsp;{{study.location}}</span></p>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <h4 class="underline">Compensation Form</h4>
          </div>
        </div>
        <div>
          <form name="sessionForm" ng-submit="studySignup(sessionForm.$valid)" class="signin" novalidate>
            <fieldset>
              <div class="row col-sm-12">
                <div class="form-group" show-errors>
                  <div id="compensation" class="form-group">
                    <label>Select Compensation Type:</label>
                    <select name="compensation" class="form-control" ng-model="credentials.compensation" required>
                      <option ng-show="hasExtraCredit" value="extraCredit">Extra Credit</option>
                      <option ng-show="hasMonetary" value="monetary">Monetary</option>
                      <option value="none">None</option>
                    </select>
                  </div>
                  <div ng-show="credentials.compensation === 'extraCredit'" id="classCode" class="form-group">
                    <label>Select Class Code:</label>
                    <select name="classCode" class="form-control" ng-model="credentials.classCode">
                      <option ng-repeat="class in hardCodedClasses" value="{{ class }}">{{ class }}</option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-4 col-sm-offset-1">
                  <button class="btn btn-primary full-width" ng-click="confirmCloseStudy()">Sign up</button>
                </div>
                <div class="col-sm-4 col-sm-offset-1">
                  <button class="btn btn-red full-width" ng-click="closeStudyClose()">Cancel</button>
                </div>
              </div>
              <div class="row" ng-if="error">
                <div class="col-sm-12">
                  <p class="error text-center">{{ error }}</p>
                </div>
              </div>
            </fieldset>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

