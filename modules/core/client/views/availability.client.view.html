<div class="container inner-container" ng-controller="SessionController">

  <h1 class="text-center pad-top"><strong>Define Session Availbility</strong></h1>
  <div class="row">
    <div class='col-md-4'>
      <h3>Selection Type:</h3>
      <div class='btn-group'>
        <button class='btn btn-primary' ng-model='type' uib-btn-radio='"individual"'>Individual</button>
        <button class='btn btn-primary' ng-model='type' uib-btn-radio='"range"'>Range</button>
      </div>
    </div>
  </div>
  <div class='row'>
    <div class="col-md-4" uib-datepicker ng-model='activeDate' multi-select='selectedDates' select-range='{{type=="range"}}' datepicker-options='options'></div>
    <div class="col-md-8">
      <!--<h3 class="text-center">Hello World</h3>-->
      <div ng-if='type=="individual"'>
        Selected Dates:
        <div class='well well-sm'>
          <div ng-repeat='d in selectedDates | orderBy'>
            {{d | date : 'fullDate'}}
            <button class='btn btn-xs btn-warning' style='margin:5px' ng-click='removeFromSelected(d)'>Remove</button>
            <div ng-repeat="possibility in availability | filter:{unixDate: d}">
              <select ng-model="startTime" ng-options="times for times in time"></select>
              <select ng-model="endTime" ng-options="times for times in time"></select>
            </div>
            <button class='btn btn-xs btn-primary' style='margin:5px' ng-click='addEntry(d)'>Add Time Range</button>
          </div>
        </div>
      </div>
      <div ng-if='type=="range"' >
        Selected Range:
        <div class='well well-sm'>
          {{(selectedDates | orderBy)[0] | date:"fullDate"}}
          <span ng-if='selectedDates.length > 1'>
            - {{(selectedDates | orderBy : '-')[0] | date:"fullDate"}}
          </span>
      	</div>
      </div>
    </div>
  </div>
  <div class="form-group no-margin">
    <button type="submit" ng-click='sendAvailability()' class="btn btn-primary full-width no-margin small-top-margin">Submit Availability</button>
  </div>
</div>
